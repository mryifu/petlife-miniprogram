<!--pages/knowledge/index.wxml-->
<view class="container">
  <!-- åˆ†ç±»ç½‘æ ¼ - 5ä¸ªä¸€è¡Œ -->
  <view class="category-grid">
    <view 
      wx:for="{{categories}}" 
      wx:key="id"
      class="category-item {{activeCategory === item.id ? 'active' : ''}}"
      bindtap="switchCategory"
      data-id="{{item.id}}"
    >
      <text class="cat-emoji">{{item.emoji}}</text>
      <text class="cat-name">{{item.name}}</text>
    </view>
  </view>

  <!-- çŸ¥è¯†åˆ—è¡¨ -->
  <view class="knowledge-list" wx:if="{{knowledgeList.length > 0}}">
    <view 
      class="knowledge-card" 
      wx:for="{{knowledgeList}}" 
      wx:key="_id"
      bindtap="goDetail"
      data-id="{{item._id}}"
    >
      <!-- ç§»é™¤å›¾ç‰‡ -->
      <view class="info full-width">
        <text class="title">{{item.title}}</text>
        <text class="summary">{{item.summary || ''}}</text>
      </view>
    </view>
  </view>

  <!-- ç©ºçŠ¶æ€ -->
  <view class="empty-state" wx:elif="{{!loading}}">
    <text class="empty-emoji">ðŸ“š</text>
    <text class="empty-text">æš‚æ— çŸ¥è¯†å†…å®¹</text>
  </view>

  <!-- åŠ è½½ä¸­ -->
  <view class="loading" wx:if="{{loading}}">
    <text>åŠ è½½ä¸­...</text>
  </view>
</view>
